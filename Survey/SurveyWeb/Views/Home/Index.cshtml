
@{
    ViewBag.Title = "Autenticação do Usuário";
}
@section scripts {
<script type="text/javascript">
        var erro = "@ViewBag.Erro";
        if (erro != "") {
            $("#divErros").html(erro);
            $("#divErros").show(300);
        }
        $("#btnValidarAcesso").click(function () {
            var msg = "";
            if ($("#txtEmail").val() == "" ||
                $("#txtEmail").val() < 0) {
                msg += ". Informe o EMAIL do usuário.<br />";
            }
            if ($("#txtSenha").val() == "") {
                msg += ". Informe a SENHA do usuário.<br />";
            }

            if (msg.length > 0) {
                $("#divErros").html(msg);
                $("#divErros").show(300);
                return false;
            }
            else {
                $("#formValidar").submit();
            }
        });
</script>
}

<h2>Autenticação do Usuário</h2>
<form method="post" name="formValidar" id="formValidar" action="/Home/Validar">
    <div class="form-group">
        <label for="txtEmail">Informe seu e-mail:</label>
        <input type="email" name="txtEmail" id="txtEmail"
               required class="form-control" />
    </div>
    <div class="form-group">
        <label for="txtSenha">Senha de acesso:</label>
        <input type="password" name="txtSenha" id="txtSenha"
               class="form-control" />
    </div>
    <div class="form-inline">
        <button type="button" name="btnValidarAcesso" id="btnValidarAcesso" class="btn btn-primary">Validar acesso</button>
        <a role="button" class="btn btn-success" data-fancybox data-src="#novoUsuario" href="javascript:;">Criar novo usuário</a>
    </div>
    <div class="form-group">
        <label>
            <a href="javascript:;" data-fancybox data-src="#esqueciSenha"> Esqueci minha senha</a>
        </label>
    </div>
</form>

@*Fancybox NOVO USUÁRIO*@
<div style="display: none; min-width: 300px; width: 600px" id="novoUsuario">
    <h3>Novo Usuário</h3>
    <form>
        <div class="form-group">
            <label for="txtEmail">Informe seu e-mail:</label>
            <input type="email" required name="txtEmailNovo" id="txtEmailNovo" class="form-control" />
        </div>
        <div class="form-group">
            <label for="txtNome">Nome:</label>
            <input type="text" required name="txtNomeNovo" id="txtNomeNovo" class="form-control" />
        </div>
        <div class="form-group">
            <label for="txtSenha">Defina sua senha:</label>
            <input type="password" required name="txtSenhaNovo" id="txtSenhaNovo" class="form-control" />
        </div>
        <div class="form-group">
            <label for="txtSenha2">Confirme sua senha:</label>
            <input type="password" required name="txtSenhaNovo2" id="txtSenhaNovo2" class="form-control" />
        </div>
        <div class="form-inline">
            <button type="button" name="btnConfirmar" id="btnConfirmar" class="btn btn-success">Confirmar</button>
            <button type="button" name="btnCancelar" id="btnCancelar" class="btn btn-danger"
                    onclick="javascript: $.fancybox.close();">
                Cancelar
            </button>
        </div>
    </form>
</div>

@*FancyBox ESQUECI MINHA SENHA*@
<div style="display: none; min-width: 300px; width: 600px" id="esqueciSenha">
    <h3>Recuperar minha senha</h3>
    <form>
        <div class="form-group">
            <label for="txtEmailRecuperar">Informe seu e-mail:</label>
            <input type="email" name="txtEmailRecuperar" id="txtEmailRecuperar" class="form-control" />
        </div>
        <div class="form-inline">
            <button type="button" name="btnEnviarRecuperar" id="btnEnviarRecuperar" class="btn btn-success">Recuperar senha</button>
            <button type="button" name="btnCancelarRecuperar" id="btnCancelarRecuperar" class="btn btn-danger"
                    onclick="javascript: $.fancybox.close();">
                Cancelar
            </button>
        </div>
    </form>
</div>

<hr />

<div id="divErros" style="display:none" class="alert alert-warning" role="alert">
    ...
</div>
